{"version":3,"sources":["./src/app/pages/employee-add-page/employee-add-page-routing.module.ts","./src/app/pages/employee-add-page/employee-add-page.module.ts","./src/app/pages/employee-add-page/employee-add-page.page.ts","./src/app/pages/employee-add-page/employee-add-page.page.scss","./src/app/pages/employee-add-page/employee-add-page.page.html"],"names":[],"mappings":"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","file":"src_app_pages_employee-add-page_employee-add-page_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { EmployeeAddPagePage } from './employee-add-page.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EmployeeAddPagePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class EmployeeAddPagePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {ReactiveFormsModule, FormsModule} from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EmployeeAddPagePageRoutingModule } from './employee-add-page-routing.module';\r\n\r\nimport { EmployeeAddPagePage } from './employee-add-page.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    EmployeeAddPagePageRoutingModule\r\n  ],\r\n  declarations: [EmployeeAddPagePage]\r\n})\r\nexport class EmployeeAddPagePageModule {}\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {Subscription} from \"rxjs\";\r\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\r\nimport {Router} from \"@angular/router\";\r\nimport {CommonStateService} from \"../../services/common-state.service\";\r\nimport {Person} from \"../../services/model\";\r\nimport {PersonResourceService} from \"../../services/api-services/person-resource.service\";\r\nimport {ToastController} from \"@ionic/angular\";\r\n\r\n@Component({\r\n  selector: 'app-employee-add-page',\r\n  templateUrl: './employee-add-page.page.html',\r\n  styleUrls: ['./employee-add-page.page.scss'],\r\n})\r\nexport class EmployeeAddPagePage implements OnInit, OnDestroy {\r\n  private subscription: Subscription[] = [];\r\n\r\n  /** @internal */\r\n  showMobileMenu = true;\r\n\r\n  /** @internal */\r\n  addEmployeeForm = new FormGroup(\r\n    {\r\n            personFirstname: new FormControl('',Validators.required),\r\n            personLastname: new FormControl('', Validators.required),\r\n            personBirthdate: new FormControl('', Validators.required),\r\n            personSex: new FormControl('', Validators.required),\r\n            addressStreet: new FormControl('', Validators.required),\r\n            addressZip: new FormControl('', Validators.required ),\r\n            addressCity: new FormControl('',Validators.required),\r\n          }\r\n    )\r\n\r\n  constructor(public router: Router,\r\n              public state: CommonStateService,\r\n              private personService: PersonResourceService,\r\n              private toastController: ToastController\r\n  ) { }\r\n\r\n\r\n  ngOnInit() {\r\n    this.subscription.push(this.state.getSplitPaneVisible().subscribe(\r\n      (isVisible) => this.showMobileMenu = !isVisible\r\n      )\r\n    );\r\n\r\n/*    this.addEmployeeForm.valueChanges.subscribe((rawFormValues) => {\r\n      let personEntries :Person = {\r\n        birthdate: new Date(rawFormValues.personBirthdate),\r\n        city: rawFormValues.addressCity,\r\n        dynamic_id: null,\r\n        firstname: rawFormValues.personFirstname,\r\n        lastname: rawFormValues.personLastname,\r\n        sex: rawFormValues.personSex,\r\n        street: rawFormValues.addressStreet,\r\n        zip: rawFormValues.addressZip\r\n      }\r\n    });*/\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription.forEach(s => s.unsubscribe());\r\n  }\r\n\r\n  backButtonClicked() {\r\n    this.router.navigate(['/'])\r\n  }\r\n\r\n  resetForm() {\r\n    this.addEmployeeForm.reset();\r\n  }\r\n\r\n  onSubmit() {\r\n    if(this.addEmployeeForm.invalid) {\r\n      this.presentToast('Unvollständige Eingabe', 'danger')\r\n      return;\r\n    }\r\n    const rawFormValues = this.addEmployeeForm.getRawValue();\r\n    let personEntries :Person = {\r\n      birthdate: new Date(rawFormValues.personBirthdate),\r\n      city: rawFormValues.addressCity,\r\n      dynamic_id: null,\r\n      firstname: rawFormValues.personFirstname,\r\n      lastname: rawFormValues.personLastname,\r\n      sex: rawFormValues.personSex,\r\n      street: rawFormValues.addressStreet,\r\n      zip: rawFormValues.addressZip\r\n    };\r\n    this.personService.postPerson(personEntries).subscribe(result => {\r\n      if(result !== 'INVALID_REQUEST') {\r\n        this.presentToast('Person angelegt', 'success').then(()=>{\r\n          this.router.navigate(['/tabs/dashboard'])\r\n        })\r\n      } else {\r\n        this.presentToast('Unvollständige Eingabe', 'danger')\r\n      }\r\n    });\r\n  }\r\n\r\n  async presentToast(message: string, color: string) {\r\n    const p = await this.toastController.create({message, color, duration:3000})\r\n    await p.present();\r\n  }\r\n}\r\n","export default \".employee-page-wrapper {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  padding-bottom: 1rem;\\n}\\n\\n.employee-add-form-wrapper {\\n  display: flex;\\n  justify-content: center;\\n  height: auto;\\n}\\n\\n.employee-add-form {\\n  margin: 2rem;\\n  display: flex;\\n  justify-content: flex-start;\\n  flex-direction: column;\\n  flex: 0 1 600px;\\n  border: 3px solid var(--ion-color-light);\\n  border-radius: 2px;\\n  color: var(--ion-color-medium);\\n  height: auto;\\n}\\n\\n.employee-add-form-item {\\n  display: flex;\\n}\\n\\n.employee-add-bottom-collapsed {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.webkit-datetime-edit-fields-wrapper {\\n  background: silver;\\n}\\n\\n.employee-add-bottom-toolbar {\\n  justify-content: center;\\n  display: flex;\\n  padding-right: 2rem;\\n  padding-left: 2rem;\\n  margin-bottom: 0.5rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcGxveWVlLWFkZC1wYWdlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLDhCQUFBO0VBQ0EsWUFBQTtFQUNBLG9CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLDJCQUFBO0VBQ0Esc0JBQUE7RUFDQSxlQUFBO0VBQ0Esd0NBQUE7RUFDQSxrQkFBQTtFQUNBLDhCQUFBO0VBQ0EsWUFBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLDhCQUFBO0FBQ0Y7O0FBRUE7RUFBdUMsa0JBQUE7QUFFdkM7O0FBQUE7RUFDRSx1QkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7QUFHRiIsImZpbGUiOiJlbXBsb3llZS1hZGQtcGFnZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZW1wbG95ZWUtcGFnZS13cmFwcGVye1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHBhZGRpbmctYm90dG9tOiAxcmVtO1xyXG59XHJcblxyXG4uZW1wbG95ZWUtYWRkLWZvcm0td3JhcHBlcntcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGhlaWdodDogYXV0bztcclxufVxyXG5cclxuLmVtcGxveWVlLWFkZC1mb3Jte1xyXG4gIG1hcmdpbjogMnJlbTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGZsZXg6IDAgMSA2MDBweDtcclxuICBib3JkZXI6IDNweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItbGlnaHQpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG59XHJcblxyXG4uZW1wbG95ZWUtYWRkLWZvcm0taXRlbXtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcblxyXG4uZW1wbG95ZWUtYWRkLWJvdHRvbS1jb2xsYXBzZWQge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcblxyXG4ud2Via2l0LWRhdGV0aW1lLWVkaXQtZmllbGRzLXdyYXBwZXIgeyBiYWNrZ3JvdW5kOiBzaWx2ZXI7IH1cclxuXHJcbi5lbXBsb3llZS1hZGQtYm90dG9tLXRvb2xiYXIge1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgcGFkZGluZy1yaWdodDogMnJlbTtcclxuICBwYWRkaW5nLWxlZnQ6IDJyZW07XHJcbiAgbWFyZ2luLWJvdHRvbTogLjVyZW07XHJcblxyXG59XHJcbiJdfQ== */\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons\\r\\n      *ngIf=\\\"this.showMobileMenu\\\"\\r\\n      slot=\\\"start\\\" class=\\\"back-button\\\" (click)=\\\"this.router.navigate(['/tabs/settings'])\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back-outline\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Mitarbeiter anlegen</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <div class=\\\"employee-page-wrapper\\\">\\r\\n  <!-- Formular -->\\r\\n  <div class=\\\"employee-add-form-wrapper\\\">\\r\\n    <form class=\\\"employee-add-form\\\" [formGroup]=\\\"addEmployeeForm\\\">\\r\\n        <ion-item class=\\\"employee-add-form-item\\\">\\r\\n          <ion-icon name=\\\"chatbox-ellipses\\\" class=\\\"ion-margin\\\"></ion-icon>\\r\\n          <ion-label>Vorname</ion-label>\\r\\n          <ion-input placeholder=\\\"Vorname\\\" formControlName=\\\"personFirstname\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item class=\\\"employee-add-form-item\\\">\\r\\n          <ion-icon name=\\\"bookmark\\\" class=\\\"ion-margin\\\"></ion-icon>\\r\\n          <ion-label>Nachname</ion-label>\\r\\n          <ion-input placeholder=\\\"Nachname\\\" formControlName=\\\"personLastname\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-icon name=\\\"calendar\\\" class=\\\"ion-margin\\\"></ion-icon>\\r\\n          <ion-label>Geburtsdatum</ion-label>\\r\\n          <input formControlName=\\\"personBirthdate\\\" type=\\\"date\\\">\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-icon name=\\\"body\\\" class=\\\"ion-margin\\\"></ion-icon>\\r\\n          <ion-label>Geschlecht</ion-label>\\r\\n          <ion-select formControlName=\\\"personSex\\\" interface=\\\"popover\\\" placeholder=\\\"Wähle Geschlecht\\\">\\r\\n            <ion-select-option value=\\\"0\\\">Männlich</ion-select-option>\\r\\n            <ion-select-option value=\\\"1\\\">Weiblich</ion-select-option>\\r\\n            <ion-select-option value=\\\"2\\\">Divers</ion-select-option>\\r\\n          </ion-select>\\r\\n        </ion-item>\\r\\n        <ion-item class=\\\"employee-add-form-item\\\">\\r\\n          <ion-icon name=\\\"home\\\" class=\\\"ion-margin\\\"></ion-icon>\\r\\n          <ion-label>Straße</ion-label>\\r\\n          <ion-input placeholder=\\\"Straße\\\" formControlName=\\\"addressStreet\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item class=\\\"employee-add-form-item\\\">\\r\\n          <ion-icon name=\\\"keypad\\\" class=\\\"ion-margin\\\"></ion-icon>\\r\\n          <ion-label>Postleitzahl</ion-label>\\r\\n          <ion-input placeholder=\\\"1234\\\" formControlName=\\\"addressZip\\\" type=\\\"number\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item class=\\\"employee-add-form-item\\\">\\r\\n          <ion-icon name=\\\"business\\\" class=\\\"ion-margin\\\"></ion-icon>\\r\\n          <ion-label>Stadt</ion-label>\\r\\n          <ion-input placeholder=\\\"Stadt\\\" formControlName=\\\"addressCity\\\"></ion-input>\\r\\n        </ion-item>\\r\\n    </form>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"employee-add-bottom-toolbar\\\" [ngClass]=\\\"{'ion-justify-content-between': !showMobileMenu}\\\">\\r\\n    <div *ngIf=\\\"!showMobileMenu\\\">\\r\\n      <ion-button class=\\\"max-width-100\\\" color=\\\"primary\\\" [fill]=\\\"'outline'\\\"\\r\\n                  (click)=\\\"backButtonClicked()\\\">\\r\\n        Zurück\\r\\n      </ion-button>\\r\\n    </div>\\r\\n    <ion-button class=\\\"max-width-100\\\" [fill]=\\\"'outline'\\\" color=\\\"danger\\\" (click)=\\\"resetForm()\\\">\\r\\n      Formular zurücksetzen\\r\\n    </ion-button>\\r\\n    <ion-button class=\\\"max-width-100\\\" color=\\\"primary\\\" (click)=\\\"onSubmit()\\\" type=\\\"submit\\\">\\r\\n      Anlegen\\r\\n    </ion-button>\\r\\n  </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";"],"sourceRoot":"webpack:///"}